From e43a46dbd8408f35c7a00292d3ce140e26b22bde Mon Sep 17 00:00:00 2001
From: kueken <ohnemailadresse@arcor.de>
Date: Fri, 7 Feb 2020 14:38:26 +0100

---
 source3/lib/system.c     | 1 +
 source3/libsmb/clifile.c | 1 +
 source3/smbd/trans2.c    | 1 +
 3 files changed, 3 insertions(+)

diff --git a/source3/lib/system.c b/source3/lib/system.c
index 8f919e5..0706d5c 100644
--- a/source3/lib/system.c
+++ b/source3/lib/system.c
@@ -25,6 +25,7 @@
 #include "system/capability.h"
 #include "system/passwd.h"
 #include "system/filesys.h"
+#include <sys/sysmacros.h>
 
 #ifdef HAVE_SYS_PRCTL_H
 #include <sys/prctl.h>
diff --git a/source3/libsmb/clifile.c b/source3/libsmb/clifile.c
index 6763d69..002c77a 100644
--- a/source3/libsmb/clifile.c
+++ b/source3/libsmb/clifile.c
@@ -26,6 +26,7 @@
 #include "libsmb/clirap.h"
 #include "trans2.h"
 #include "ntioctl.h"
+#include <sys/sysmacros.h>
 
 /***********************************************************
  Common function for pushing stings, used by smb_bytes_push_str()
diff --git a/source3/smbd/trans2.c b/source3/smbd/trans2.c
index 98fd2af..7b093b3 100644
--- a/source3/smbd/trans2.c
+++ b/source3/smbd/trans2.c
@@ -38,6 +38,7 @@
 #include "smbprofile.h"
 #include "rpc_server/srv_pipe_hnd.h"
 #include "libsmb/libsmb.h"
+#include <sys/sysmacros.h>
 
 #define DIR_ENTRY_SAFETY_MARGIN 4096
 
