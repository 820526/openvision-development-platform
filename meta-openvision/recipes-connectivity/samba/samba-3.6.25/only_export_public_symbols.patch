From 397fc58aa8929b2b1ce8ad51c72ac5bdf24a2395 Mon Sep 17 00:00:00 2001
From: Ivo De Decker <ivo.dedecker@ugent.be>
Date: Sun, 19 Jan 2020 11:03:42 +0100
Subject: [PATCH] Update meta-blackbox submodule using submodule.sh

Description: only export public symbols
 Force usage of the symbols list when linking shared libraries. Otherwise,
 private symbols get exported in libsmbclient and libwbclient.
Forwarded: no
Last-Update: 2012-06-27

---
 source3/Makefile.in | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/source3/Makefile.in b/source3/Makefile.in
index ec29232..f10291d 100644
--- a/source3/Makefile.in
+++ b/source3/Makefile.in
@@ -28,8 +28,9 @@ SHLD=@SHLD@
 LIB_PATH_VAR=@LIB_PATH_VAR@
 
 ## Dynamic shared libraries build settings
-DSO_EXPORTS_CMD=-Wl,--version-script,$(srcdir)/exports/`basename $@ | sed 's:\.@SHLIBEXT@[\.0-9]*$$:.@SYMSEXT@:'`
-DSO_EXPORTS=@DSO_EXPORTS@
+# force using syms file
+DSO_EXPORTS=-Wl,--version-script,$(srcdir)/exports/`basename $@ | sed 's:\.@SHLIBEXT@[\.0-9]*$$:.@SYMSEXT@:'`
+#DSO_EXPORTS=@DSO_EXPORTS@
 SHLD_DSO = $(SHLD) $(LDSHFLAGS) $(DSO_EXPORTS) -o $@
 
 # The MODULE_EXPORTS variable contains the platform-specific linker flags
